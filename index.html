<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Online Collaboration Agreement - Premium</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<!-- Google Fonts for premium look -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">

<style>
/* ---- Body Background ---- */
body{
  margin:0;
  font-family:'Montserrat', sans-serif;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background: linear-gradient(135deg,#0f0c29,#302b63,#24243e);
  color:#fff;
}

/* ---- Container Card ---- */
.container{
  width:95%;
  max-width:950px;
  background: rgba(255,255,255,0.05);
  backdrop-filter: blur(25px) saturate(180%);
  border-radius:24px;
  box-shadow: 0 20px 40px rgba(0,0,0,0.6), 0 0 30px rgba(255,215,0,0.2);
  overflow:hidden;
  border:1px solid rgba(255,255,255,0.2);
  transform: translateZ(0);
  perspective: 1000px;
  padding: 20px 30px;
}

/* ---- Header ---- */
.header{
  text-align:center;
  padding:30px;
  background: rgba(255,255,255,0.08);
  border-bottom:1px solid rgba(255,255,255,0.2);
  border-radius: 20px 20px 0 0;
  box-shadow: inset 0 -2px 10px rgba(255,255,255,0.1);
}
.header h1{
  font-size:28px;
  font-weight:700;
  background: linear-gradient(90deg, #ffd369, #fca311);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
.header p{
  font-size:16px;
  opacity:0.7;
  margin-top:5px;
}

/* ---- Form Section ---- */
.form{
  padding:30px;
  max-height: 80vh;
  overflow-y: auto;
}

/* ---- Section Titles ---- */
h3{
  margin-top:30px;
  color: #ffd369;
  font-weight:600;
  text-shadow: 0 0 8px rgba(255,215,105,0.7);
}

/* ---- Inputs & Textareas ---- */
input, textarea{
  width:100%;
  padding:14px 16px;
  margin-top:10px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,0.3);
  outline:none;
  background: rgba(255,255,255,0.08);
  color:#fff;
  font-weight:500;
  box-shadow: 0 4px 12px rgba(0,0,0,0.5);
  transition: 0.3s all;
}
input::placeholder, textarea::placeholder{
  color:#ddd;
  font-style:italic;
}
input:focus, textarea:focus{
  border:1px solid #ffd369;
  background: rgba(255,255,255,0.12);
  box-shadow: 0 6px 20px rgba(255,215,105,0.5);
}

/* ---- Locked inputs ---- */
.locked{
  background: rgba(255,255,255,0.05);
  cursor:not-allowed;
}

/* ---- Accordion ---- */
.accordion{
  margin-top:15px;
  background: rgba(0,0,0,0.25);
  padding:16px 20px;
  border-radius:12px;
  cursor:pointer;
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-weight:600;
  color:#ffd369;
  text-shadow:0 0 5px rgba(255,215,105,0.6);
  transition:0.3s all;
}
.accordion:hover{
  background: rgba(255,215,105,0.1);
  color:#fff;
  transform: translateY(-2px);
}

.panel{
  max-height:0;
  overflow:hidden;
  transition:max-height 0.6s ease;
  background: rgba(0,0,0,0.2);
  border-radius:12px;
  margin-top:10px;
  padding:0 15px;
  box-shadow: inset 0 2px 10px rgba(255,215,105,0.1);
}
.panel label{
  display:block;
  margin:10px 0;
  font-weight:500;
  cursor:pointer;
}

/* Scrollable services */
.panel-scroll{
  max-height:300px;
  overflow-y:auto;
  padding:10px 0;
}

/* ---- Submit Button ---- */
.submit{
  margin-top:30px;
  padding:16px;
  font-size:18px;
  width:100%;
  border:none;
  border-radius:14px;
  cursor:pointer;
  background: linear-gradient(135deg,#ffd369,#fca311);
  color:#000;
  font-weight:700;
  box-shadow: 0 6px 20px rgba(255,215,105,0.6);
  transition:0.3s all;
}
.submit:hover{
  transform: translateY(-2px);
  box-shadow: 0 10px 30px rgba(255,215,105,0.8);
}

/* ---- Thank You Overlay ---- */
.thankyou{
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  background:rgba(0,0,0,0.85);
  display:none;
  justify-content:center;
  align-items:center;
  text-align:center;
  z-index:9999;
}
.thankyou div{
  background: rgba(255,255,255,0.08);
  backdrop-filter: blur(15px) saturate(200%);
  padding:50px;
  border-radius:24px;
  box-shadow: 0 10px 30px rgba(255,215,105,0.6);
}
.thankyou h2{
  font-size:28px;
  background: linear-gradient(90deg,#ffd369,#fca311);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom:20px;
}
</style>
</head>

<body>

<div class="container">
  <div class="header">
    <h1>Online Collaboration Agreement</h1>
    <p>Digitally valid for remote & online clients</p>
  </div>

  <div class="form">

    <h3>Contract Duration</h3>
    <input type="date" id="startDate" onchange="setEndDate()">
    <input type="date" id="endDate" class="locked" readonly>

    <h3>First Party (Locked)</h3>
    <input value="SARR Incorporation" class="locked" readonly>
    <input value="Pakistan" class="locked" readonly>
    <input value="sarrincorporation@gmail.com" class="locked" readonly>

    <h3>Second Party</h3>
    <input id="spName" placeholder="Full Name">
    <input id="spAddress" placeholder="Address">
    <input id="spContact" placeholder="Email / Contact">

    <h3>Project Details</h3>
    <input id="contentType" placeholder="Content Creation, Marketing, E-commerce">
    <input id="platform" placeholder="YouTube, Amazon, Instagram">
    <textarea id="theme" placeholder="Describe your project idea"></textarea>

    <div class="accordion" onclick="toggleServices()">
      <span>Select Services (Click to open)</span>
      <span>â–¼</span>
    </div>

    <div class="panel panel-scroll" id="servicePanel">
      <label><input type="checkbox" data-price="40000"> Video Editing (40,000 / month)</label>
      <label><input type="checkbox" data-price="35000"> Documentary Editing (35,000)</label>
      <label><input type="checkbox" data-price="45000"> Commercial Editing (45,000)</label>
      <label><input type="checkbox" data-price="25000"> Thumbnail Design (25,000)</label>
      <label><input type="checkbox" data-price="75000"> YouTube Content Pack (75,000)</label>
      <label><input type="checkbox" data-price="40000"> drop-Shipping  (40,000)</label>
      <label><input type="checkbox" data-price="30000"> Social Media Graphics (30,000)</label>
      <label><input type="checkbox" data-price="50000"> Facebook / Instagram Ads Management (50,000)</label>
      <label><input type="checkbox" data-price="60000"> Web Development (60,000)</label>
      <label><input type="checkbox" data-price="40000"> Logo & Branding Package (40,000)</label>
      <label><input type="checkbox" data-price="35000"> SEO Optimization & Consulting (35,000)</label>
      <label><input type="checkbox" data-price="45000"> Email Marketing Campaign (45,000)</label>
    </div>

    <h3>Payment</h3>
    <input id="baseMonthly" class="locked" placeholder="Base Monthly Charges" readonly>
    
    <label style="margin-top:10px;">
      <input type="checkbox" id="enableCommission" onchange="toggleCommission()"> I agree to Profit Commission Model
    </label>
    
    <input id="commission" placeholder="Commission % (from profit)" type="number" min="0" max="100" style="display:none" oninput="calculateTotal()">
    <input id="monthlySalary" class="locked" placeholder="Monthly Salary" readonly oninput="calculateTotal()">
    <input id="finalMonthly" class="locked" placeholder="Final Monthly Payable" readonly>
    <input id="totalPayment" class="locked" placeholder="Total Contract (24 Months)" readonly>

    <textarea class="locked" readonly>
50% upfront before start
50% after final delivery
    </textarea>

    <h3>Signature</h3>
    <input value="SARR Incorporation" class="locked" readonly>
    <input id="spSign" placeholder="Type Your Full Name">

    <button class="submit" onclick="submitContract()">Submit Contract</button>

  </div>
</div>

<div class="thankyou" id="thankyou">
  <div>
    <h2>Thank You!</h2>
    <p>Your contract has been submitted successfully.</p>
  </div>
</div>

<audio id="submitSound">
  <source src="https://assets.mixkit.co/sfx/preview/mixkit-confirmation-tone-2867.mp3">
</audio>

<script>
const services = document.querySelectorAll('#servicePanel input');
const baseMonthly = document.getElementById('baseMonthly');
const monthlySalary = document.getElementById('monthlySalary');
const commissionInput = document.getElementById('commission');
const finalMonthly = document.getElementById('finalMonthly');
const totalPayment = document.getElementById('totalPayment');

services.forEach(s => s.addEventListener('change', calculateTotal));

function toggleServices(){
  const panel = document.getElementById("servicePanel");
  panel.style.maxHeight = panel.style.maxHeight ? null : panel.scrollHeight + "px";
}

function setEndDate(){
  const startDate = document.getElementById('startDate');
  const endDate = document.getElementById('endDate');
  if(startDate.value){
    let d = new Date(startDate.value);
    d.setFullYear(d.getFullYear()+2);
    endDate.value = d.toISOString().split("T")[0];
  }
}

function toggleCommission(){
  const enabled = document.getElementById('enableCommission').checked;
  if(enabled){
    commissionInput.style.display = "block";
    monthlySalary.readOnly = false;
    monthlySalary.classList.remove('locked');
  } else {
    commissionInput.style.display = "none";
    monthlySalary.readOnly = true;
    monthlySalary.classList.add('locked');
    commissionInput.value = '';
    calculateTotal();
  }
}

function calculateTotal(){
  let base = 0;
  services.forEach(s => { if(s.checked) base += parseInt(s.dataset.price); });
  baseMonthly.value = base;

  let salary = base;
  if(document.getElementById('enableCommission').checked){
    let inputSalary = parseInt(monthlySalary.value)||base;
    if(inputSalary > base){
      inputSalary = base;
      monthlySalary.value = base;
      alert("Salary cannot exceed base service price!");
    }
    salary = inputSalary;
  } else {
    monthlySalary.value = base;
  }

  finalMonthly.value = salary;
  totalPayment.value = salary * 24;
}

function submitContract(){
  document.getElementById("submitSound").play();
  generatePDF();
  document.getElementById("thankyou").style.display="flex";
}

function generatePDF(){
  const { jsPDF } = window.jspdf;
  const pdf = new jsPDF();

  const spName = document.getElementById('spName').value;
  const salary = document.getElementById('finalMonthly').value;
  const total = document.getElementById('totalPayment').value;
  const start = document.getElementById('startDate').value;
  const end = document.getElementById('endDate').value;
  const commission = commissionInput.value || "0";

  let selectedServices = [];
  services.forEach(s => { if(s.checked) selectedServices.push(s.parentElement.textContent.trim()); });

  pdf.text(`ONLINE COLLABORATION AGREEMENT`,10,10);
  pdf.text(`Client: ${spName}`,10,20);
  pdf.text(`Contract Duration: ${start} to ${end}`,10,30);
  pdf.text(`Selected Services:`,10,40);
  selectedServices.forEach((srv,i)=>{
    pdf.text(`${i+1}. ${srv}`,12,50+(i*10));
  });
  pdf.text(`Final Monthly: ${salary}`,10,50 + selectedServices.length*10 + 10);
  pdf.text(`Commission %: ${commission}`,10,50 + selectedServices.length*10 + 20);
  pdf.text(`Total Contract (24 months): ${total}`,10,50 + selectedServices.length*10 + 30);

  pdf.save("Online_Contract.pdf");
}
</script>

</body>
</html>
